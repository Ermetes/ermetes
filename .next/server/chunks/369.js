"use strict";exports.id=369,exports.ids=[369],exports.modules={101:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(802),f=c(5979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},524:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{$:()=>l});var e=c(8732),f=c(2015),g=c(9640),h=c(8938),i=c(101),j=a([g,h,i]);[g,h,i]=j.then?(await j)():j;let k=(0,h.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=f.forwardRef(({className:a,variant:b,size:c,asChild:d=!1,...f},h)=>{let j=d?g.Slot:"button";return(0,e.jsx)(j,{className:(0,i.cn)(k({variant:b,size:c,className:a})),ref:h,...f})});l.displayName="Button",d()}catch(a){d(a)}})},3872:(a,b,c)=>{c.d(b,{dj:()=>l});var d=c(2015);let e=0,f=new Map,g=a=>{if(f.has(a))return;let b=setTimeout(()=>{f.delete(a),j({type:"REMOVE_TOAST",toastId:a})},1e6);f.set(a,b)},h=[],i={toasts:[]};function j(a){i=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?g(c):a.toasts.forEach(a=>{g(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(i,a),h.forEach(a=>{a(i)})}function k({...a}){let b=(e=(e+1)%Number.MAX_SAFE_INTEGER).toString(),c=()=>j({type:"DISMISS_TOAST",toastId:b});return j({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||c()}}}),{id:b,dismiss:c,update:a=>j({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function l(){let[a,b]=d.useState(i);return d.useEffect(()=>(h.push(b),()=>{let a=h.indexOf(b);a>-1&&h.splice(a,1)}),[a]),{...a,toast:k,dismiss:a=>j({type:"DISMISS_TOAST",toastId:a})}}},4600:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{p:()=>i});var e=c(8732),f=c(2015),g=c(101),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,type:b,...c},d)=>(0,e.jsx)("input",{type:b,className:(0,g.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:d,...c}));i.displayName="Input",d()}catch(a){d(a)}})},6369:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>r});var e=c(8732),f=c(2015),g=c(8965),h=c(524),i=c(4600),j=c(9180),k=c(9470),l=c(8326),m=c(7419),n=c(37),o=c(3872),p=c(7464),q=a([h,i,j,k,l,m]);[h,i,j,k,l,m]=q.then?(await q)():q;let r=()=>{let{closeModal:a}=(0,g.h)(),{toast:b}=(0,o.dj)(),[c,d]=(0,f.useState)(1),[q,r]=(0,f.useState)({projectType:"",projectDetails:"",address:"",name:"",phone:"",email:"",message:"",images:null,projectFile:null,metricFile:null}),[s,t]=(0,f.useState)(!1),u=(a,b)=>{r(c=>({...c,[a]:b}))},v=async()=>{function c(a){return new Promise((b,c)=>{let d=new FileReader;d.onload=()=>{if("string"==typeof d.result){let a=d.result.split(",")[1];b(a)}else c(Error("FileReader result is not a string"))},d.onerror=c,d.readAsDataURL(a)})}t(!0);let e={projectType:q.projectType,projectDetails:q.projectDetails,address:q.address,name:q.name,phone:q.phone,email:q.email,message:q.message,images:[],projectFile:"",metricFile:""};if(q.images instanceof FileList)for(let a=0;a<q.images.length;a++)e.images.push({name:q.images[a].name,type:q.images[a].type,content:await c(q.images[a])});q.projectFile instanceof File&&(e.projectFile=JSON.stringify({name:q.projectFile.name,type:q.projectFile.type,content:await c(q.projectFile)})),q.metricFile instanceof File&&(e.metricFile=JSON.stringify({name:q.metricFile.name,type:q.metricFile.type,content:await c(q.metricFile)}));let f=Object.keys(e).map(a=>Array.isArray(e[a])?e[a].map((b,c)=>`${encodeURIComponent(a+"_"+c)}=${encodeURIComponent(JSON.stringify(b))}`).join("&"):`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`).join("&"),g=new XMLHttpRequest;g.open("POST","https://script.google.com/macros/s/AKfycbyUuM-eX-XfBckXyWm1k6K8LCl3HX_AAWa7xE_Icg-rsUXqKyeE1rqu7djxPMVV7Nkbvw/exec"),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.onreadystatechange=function(){3===g.readyState&&(b({title:w.quote.form.toast.successTitle,description:w.quote.form.toast.successDescription}),a(),r({projectType:"",projectDetails:"",address:"",name:"",phone:"",email:"",message:"",images:null,projectFile:null,metricFile:null}),d(1),t(!1))},g.send(f)},{content:w}=(0,p.o)(),x=w.quote.form.projectTypeOptions;w.quote.form.budgetOptions,w.quote.form.timelineOptions;let y=[w.quote.form.step1,w.quote.form.step3],z=(a=>{switch(a){case 1:default:return n.tIP;case 2:return n.KJW;case 3:return n.rAV}})(c),A=c/3*100;return(0,e.jsxs)(l.Zp,{className:"bg-white border border-primary/20 shadow-lg",children:[(0,e.jsxs)(l.aR,{className:"pb-4",children:[(0,e.jsxs)("div",{className:"flex items-center mb-4",children:[(0,e.jsx)(n.tEU,{className:"h-5 w-5 text-primary mr-2"}),(0,e.jsx)(l.ZB,{className:"text-lg font-medium text-primary",children:w.quote.title})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between text-sm text-primary/70",children:[(0,e.jsx)("span",{children:w.quote.form[`step${c}`]}),(0,e.jsx)("span",{children:w.quote.form[`progress${Math.round(A)}`]||`${Math.round(A)}%`})]}),(0,e.jsx)(m.k,{value:A,className:"h-2 bg-primary/20"})]}),(0,e.jsxs)("div",{className:"flex items-center mt-4",children:[(0,e.jsx)(z,{className:"h-5 w-5 text-primary mr-2"}),(0,e.jsx)("h3",{className:"text-base font-medium text-primary",children:y[c-1]})]})]}),(0,e.jsxs)(l.Wu,{children:[(0,e.jsx)("div",{className:"text-neutral-900",children:(()=>{switch(c){case 1:return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.projectType," *"]}),(0,e.jsxs)(j.l6,{value:q.projectType,onValueChange:a=>u("projectType",a),children:[(0,e.jsx)(j.bq,{className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500",children:(0,e.jsx)(j.yv,{placeholder:w.quote.form.projectType_placeholder})}),(0,e.jsx)(j.gC,{className:"bg-popover border border-border",children:x.map((a,b)=>(0,e.jsx)(j.eb,{value:a,children:a},b))})]})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.address," *"]}),(0,e.jsx)(i.p,{type:"text",placeholder:w.quote.form.address_placeholder,value:q.address,onChange:a=>u("address",a.target.value),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.description," *"]}),(0,e.jsx)(k.T,{placeholder:w.quote.form.description_placeholder,value:q.projectDetails,onChange:a=>u("projectDetails",a.target.value),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500 min-h-[100px]"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:"Carica immagini"}),(0,e.jsx)(i.p,{type:"file",multiple:!0,accept:"image/*",onChange:a=>u("images",a.target.files),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:"Carica il progetto"}),(0,e.jsx)(i.p,{type:"file",accept:".pdf,.doc,.docx,.zip,.rar",onChange:a=>u("projectFile",a.target.files?a.target.files[0]:null),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:"Carica il computo"}),(0,e.jsx)(i.p,{type:"file",accept:".pdf,.xls,.xlsx,.csv,.zip,.rar",onChange:a=>u("metricFile",a.target.files?a.target.files[0]:null),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]})]})]});case 2:return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.name," *"]}),(0,e.jsx)(i.p,{type:"text",placeholder:w.quote.form.name,value:q.name,onChange:a=>u("name",a.target.value),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.phone," *"]}),(0,e.jsx)(i.p,{type:"tel",placeholder:w.quote.form.phone,value:q.phone,onChange:a=>u("phone",a.target.value),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.email," *"]}),(0,e.jsx)(i.p,{type:"email",placeholder:w.quote.form.email,value:q.email,onChange:a=>u("email",a.target.value),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-900 mb-2",children:[w.quote.form.message||"Messaggio (Opzionale)"," "]}),(0,e.jsx)(k.T,{placeholder:w.quote.form.message||"Messaggio (Opzionale)",value:q.message,onChange:a=>u("message",a.target.value),className:"bg-white border-primary/30 text-neutral-900 placeholder:text-neutral-500"})]})]});case 3:return(0,e.jsxs)("div",{className:"space-y-4 text-center",children:[(0,e.jsx)(n.rAV,{className:"h-16 w-16 text-green-400 mx-auto"}),(0,e.jsx)("h3",{className:"text-xl font-medium text-blue-900",children:w.quote.form.summary.title}),(0,e.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-left text-blue-900 space-y-2",children:[(0,e.jsxs)("p",{className:"text-blue-900",children:[(0,e.jsxs)("strong",{children:[w.quote.form.summary.project,":"]})," ",q.projectType]}),(0,e.jsxs)("p",{className:"text-blue-900",children:[(0,e.jsxs)("strong",{children:[w.quote.form.summary.address,":"]})," ",q.address]}),(0,e.jsxs)("p",{className:"text-blue-900",children:[(0,e.jsxs)("strong",{children:[w.quote.form.summary.contact,":"]})," ",q.name," - ",q.phone]})]})]});default:return null}})()}),(0,e.jsxs)("div",{className:"flex justify-between mt-6",children:[c>1&&(0,e.jsxs)(h.$,{onClick:()=>{d(a=>Math.max(a-1,1))},variant:"outline",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[(0,e.jsx)(n.nkM,{className:"mr-2 h-4 w-4"}),"Indietro"]}),(0,e.jsx)("div",{className:"ml-auto",children:c<3?(0,e.jsxs)(h.$,{onClick:()=>{(()=>{switch(c){case 1:return q.projectType&&q.projectDetails&&q.address;case 2:return q.name&&q.phone&&q.email;case 3:return!0;default:return!1}})()?d(a=>Math.min(a+1,3)):b({title:w.quote.form.toast.missingFieldsTitle,description:w.quote.form.toast.missingFieldsDescription,variant:"destructive"})},className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium",children:[w.quote.form.next||"Avanti",(0,e.jsx)(n.Qpb,{className:"ml-2 h-4 w-4"})]}):(0,e.jsx)(h.$,{onClick:v,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium",disabled:s,children:s?(0,e.jsxs)("span",{className:"flex items-center",children:[(0,e.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,e.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,e.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),w.quote.form.submit]}):(0,e.jsxs)(e.Fragment,{children:[w.quote.form.submit,(0,e.jsx)(n.rAV,{className:"ml-2 h-4 w-4"})]})})})]})]})]})};d()}catch(a){d(a)}})},7419:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{k:()=>j});var e=c(8732),f=c(2015),g=c(7947),h=c(101),i=a([g,h]);[g,h]=i.then?(await i)():i;let j=f.forwardRef(({className:a,value:b,...c},d)=>(0,e.jsx)(g.Root,{ref:d,className:(0,h.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...c,children:(0,e.jsx)(g.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})}));j.displayName=g.Root.displayName,d()}catch(a){d(a)}})},8326:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{Wu:()=>l,ZB:()=>k,Zp:()=>i,aR:()=>j});var e=c(8732),f=c(2015),g=c(101),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));i.displayName="Card";let j=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex flex-col space-y-1.5 p-6",a),...b}));j.displayName="CardHeader";let k=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("h3",{ref:c,className:(0,g.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));k.displayName="CardTitle",f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("p",{ref:c,className:(0,g.cn)("text-sm text-muted-foreground",a),...b})).displayName="CardDescription";let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("p-6 pt-0",a),...b}));l.displayName="CardContent",f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter",d()}catch(a){d(a)}})},8965:(a,b,c)=>{c.d(b,{h:()=>f}),c(8732);var d=c(2015);let e=(0,d.createContext)(void 0),f=()=>{let a=(0,d.useContext)(e);if(!a)throw Error("useModal must be used within a ModalProvider");return a}},9180:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var e=c(8732),f=c(2015),g=c(7860),h=c(37),i=c(101),j=a([g,i]);[g,i]=j.then?(await j)():j;let k=g.Root;g.Group;let l=g.Value,m=f.forwardRef(({className:a,children:b,...c},d)=>(0,e.jsxs)(g.Trigger,{ref:d,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,e.jsx)(g.Icon,{asChild:!0,children:(0,e.jsx)(h.yQN,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=g.Trigger.displayName;let n=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.ScrollUpButton,{ref:c,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,e.jsx)(h.rXn,{className:"h-4 w-4"})}));n.displayName=g.ScrollUpButton.displayName;let o=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.ScrollDownButton,{ref:c,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,e.jsx)(h.yQN,{className:"h-4 w-4"})}));o.displayName=g.ScrollDownButton.displayName;let p=f.forwardRef(({className:a,children:b,position:c="popper",...d},f)=>(0,e.jsx)(g.Portal,{children:(0,e.jsxs)(g.Content,{ref:f,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...d,children:[(0,e.jsx)(n,{}),(0,e.jsx)(g.Viewport,{className:(0,i.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,e.jsx)(o,{})]})}));p.displayName=g.Content.displayName,f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Label,{ref:c,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=g.Label.displayName;let q=f.forwardRef(({className:a,children:b,...c},d)=>(0,e.jsxs)(g.Item,{ref:d,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,e.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,e.jsx)(g.ItemIndicator,{children:(0,e.jsx)(h.Jlk,{className:"h-4 w-4"})})}),(0,e.jsx)(g.ItemText,{children:b})]}));q.displayName=g.Item.displayName,f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Separator,{ref:c,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=g.Separator.displayName,d()}catch(a){d(a)}})},9470:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{T:()=>i});var e=c(8732),f=c(2015),g=c(101),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("textarea",{className:(0,g.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...b}));i.displayName="Textarea",d()}catch(a){d(a)}})}};